<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SL AUTO - Accueil</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <h1>Bienvenue chez SL AUTO</h1>
    <button id="btn-open-devis-ia" style="display:block;margin:40px auto 0 auto;background:#eab308;color:#23272a;font-weight:bold;border:none;padding:18px 44px;border-radius:12px;box-shadow:0 2px 12px #eab30844;cursor:pointer;font-size:1.25em;transition:background 0.2s;">Devis</button>
    <section id="devis-ia-section" style="max-width:500px;margin:64px auto 32px auto;text-align:center;">
        <div id="devis-ia-card" style="margin-top:48px;max-width:540px;margin-left:auto;margin-right:auto;background:linear-gradient(120deg,#fffbe6 80%,#facc15 100%);border-radius:22px;box-shadow:0 8px 40px #eab30844,0 2px 12px #23272a22;padding:36px 28px 32px 28px;position:relative;overflow:hidden;">
            <div style="display:flex;align-items:center;justify-content:center;margin-bottom:18px;gap:14px;">
                <span style="font-size:2.2em;color:#eab308;animation:carAnim 1.2s infinite alternate cubic-bezier(.6,-0.28,.74,1.25);">&#128663;</span>
                <h2 style="color:#23272a;font-size:1.5em;font-weight:700;letter-spacing:0.01em;">Devis instantané par IA</h2>
            </div>
            <button id="btn-devis-ia" style="background:linear-gradient(90deg,#eab308 80%,#facc15 100%);color:#23272a;font-weight:bold;border:none;padding:16px 36px;border-radius:12px;box-shadow:0 2px 12px #eab30844;cursor:pointer;font-size:1.18em;transition:transform 0.18s,box-shadow 0.18s;outline:none;animation:btnPulse 1.5s infinite alternate;">Obtenir un devis</button>
    
                <input type="text" name="immatriculation" placeholder="Plaque d'immatriculation (ex: AB-123-CD)" required style="padding:12px 14px;border-radius:8px;border:1.5px solid #eab30888;font-size:1.08em;width:100%;max-width:340px;">
                <input type="email" name="email" placeholder="Votre email" required style="padding:12px 14px;border-radius:8px;border:1.5px solid #eab30888;font-size:1.08em;width:100%;max-width:340px;">
                <textarea name="reparation" placeholder="Décrivez la réparation à faire (ex: changement de courroie, vidange, carrosserie...)" required style="padding:12px 14px;border-radius:8px;border:1.5px solid #eab30888;font-size:1.08em;width:100%;max-width:340px;min-height:80px;"></textarea>
                <button type="submit" style="background:linear-gradient(90deg,#22c55e 80%,#a3e635 100%);color:#23272a;font-weight:bold;border:none;padding:13px 0;border-radius:8px;font-size:1.13em;width:100%;max-width:340px;cursor:pointer;box-shadow:0 2px 8px #22c55e33;transition:transform 0.18s,box-shadow 0.18s;">Valider la demande</button>
                <div id="devis-ia-result" style="display:none;margin-top:18px;color:#22c55e;font-weight:bold;"></div>
            </form>
        </div>
        <style>
        @keyframes btnPulse { 0%{box-shadow:0 0 0 #eab30844;} 100%{box-shadow:0 0 24px #eab30888;} }
        @keyframes fadeIn { from{opacity:0;transform:translateY(30px);} to{opacity:1;transform:translateY(0);} }
        @keyframes carAnim { from{transform:translateY(0);} to{transform:translateY(-8px);} }
        #devis-ia-card input:focus, #devis-ia-card textarea:focus {
            border-color: #facc15;
            box-shadow: 0 0 0 2px #eab30844;
            outline: none;
        }
        #devis-ia-card button:active {
            transform: scale(0.97);
            box-shadow: 0 1px 4px #eab30844;
        }
        </style>
    </section>
    <script>
    // Affiche le formulaire IA au clic sur le bouton principal ou le bouton Devis
    const btnDevis = document.getElementById('btn-devis-ia');
    const btnOpenDevis = document.getElementById('btn-open-devis-ia');
    const formDevis = document.getElementById('form-devis-ia');
    if(btnDevis) btnDevis.style.display = 'none'; // Masque le bouton Devis IA secondaire
    function openDevisForm() {
        if(formDevis.style.display !== 'flex') {
            formDevis.style.display = 'flex';
            formDevis.style.animation = 'fadeIn 0.5s';
        }
    }
    if(btnOpenDevis) btnOpenDevis.onclick = openDevisForm;
    if(btnDevis) btnDevis.onclick = openDevisForm;
    // Simulation IA avancée (identification véhicule + main d'oeuvre)
    document.getElementById('form-devis-ia').onsubmit = function(e) {
        e.preventDefault();
        const immat = this.immatriculation.value.trim().toUpperCase();
        const email = this.email.value.trim();
        const repar = this.reparation.value.trim();
        if(!immat || !email || !repar) return;
        // Simulation d'identification véhicule (simple mapping)
        let vehicules = {
            'AB-123-CD': 'Peugeot 208',
            'AA-456-BB': 'Renault Clio',
            'ZZ-999-YY': 'Citroën C3',
            'BG-456-TR': 'Volkswagen Golf',
            'DF-789-GH': 'Toyota Yaris'
        };
        let vehicule = vehicules[immat] || 'Véhicule non identifié (simulation)';
        // Estimation main d'oeuvre selon type réparation
        let base = 80;
        if(/carrosserie|peinture|bosses|rayures/i.test(repar)) base += 120;
        if(/courroie|distribution|embrayage/i.test(repar)) base += 180;
        if(/vidange|huile|filtre/i.test(repar)) base += 40;
        if(/diagnostic|panne|voyant/i.test(repar)) base += 60;
        let prix = base + Math.floor(Math.random()*60);
        let delai = 1 + Math.floor(Math.random()*4);
        let message = `<div style='font-size:1.13em;'><span style='font-size:1.5em;color:#eab308;'>&#128663;</span><br>Pour le véhicule <b>${vehicule}</b> (plaque <b>${immat}</b>),<br>réparation demandée : <b>${repar}</b>.<br><span style='color:#22c55e;'>Estimation main d'oeuvre : <b>${prix}€</b> TTC</span>, délai : <b>${delai} jour(s)</b>.<br><span style='color:#eab308;'>Un email de confirmation sera envoyé à <b>${email}</b> (simulation).</span></div>`;
        const result = document.getElementById('devis-ia-result');
        result.innerHTML = message;
        result.style.display = 'block';
        this.reset();
    };
    </script>
</body>
</html>
